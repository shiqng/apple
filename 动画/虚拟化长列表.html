<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="preload" as="video" href="https://vd4.bdstatic.com/mda-nku5afwqw8nfbd2m/sc/cae_h264/1669699188741799597/mda-nku5afwqw8nfbd2m.mp4?v_from_s=hkapp-haokan-hnb&auth_key=1669706505-0-0-169d0283ba7f5c94794bc531c91f8c0b&bcevod_channel=searchbox_feed&cd=0&pd=1&pt=3&logid=3104928711&vid=2429120814440001542&abtest=104960_1&klogid=3104928711"> -->
    <title>Document</title>
    <style>
        .scroll-wrap {
          height: 500px;
          overflow: auto;
          border: 1px solid #000;
        }
        ul {
          margin: 0;
          box-sizing: border-box;
        }
        li {
            height: 50px;
          }
      </style>
</head>
<body>
    

    <div class='scroll-wrap'>
        <ul id='ul'></ul>
      </div>

<script>
  let count = 1000;
let startIndex = 0;
let endIndex = 11;
let arr = [];
for(let i = 0; i < count; i++) {
  arr.push('<li>' + i + '</li>');
}
let ul = document.getElementById('ul');
ul.style.height = 1000 * 50 + 'px';
let visblearr = arr.slice(startIndex, endIndex);
console.log(visblearr);
ul.innerHTML = visblearr.join(' ');
console.log(ul.innerHTML);

function render(wrap) {
    const scrollTop = wrap.scrollTop
    console.log(scrollTop);
    ul.innerHTML = '';
    let topIndex = Math.floor(scrollTop / 50);
    ul.style.paddingTop = topIndex * 50 + 'px';
    startIndex = topIndex;
    endIndex = startIndex + 11;
    let visblearr = arr.slice(startIndex, endIndex);
    console.log(visblearr);
    ul.innerHTML = visblearr.join(' ');
}

document.getElementsByClassName('scroll-wrap')[0].addEventListener('scroll', function (e) {
  render(this)
})
</script>
</body>
</html>